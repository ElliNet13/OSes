<!doctype html>
<title>MS-DOS</title>

<script src="v86/libv86.js"></script>
<script>
"use strict";

window.onload = function() {
    // Initialize the emulator
    var emulator = window.emulator = new V86({
        wasm_path: "v86/v86.wasm",
        memory_size: 32 * 1024 * 1024,
        vga_memory_size: 2 * 1024 * 1024,
        screen_container: document.getElementById("screen_container"),
        bios: {
            url: "bios/seabios.bin",
        },
        vga_bios: {
            url: "bios/vgabios.bin",
        },
        hda: {
            url: "https://corsproxy.io/?https%3A%2F%2Fi.copy.sh%2Fmsdos.img", // Hard disk image file path
        },
        autostart: true,
    });

    // Set up text mode
    const screenContainer = document.getElementById("screen_container");
    const textContainer = screenContainer.querySelector(".text-container");
    textContainer.style.fontFamily = 'monospace';
    textContainer.style.whiteSpace = 'pre';
    textContainer.style.fontSize = '14px';
    textContainer.style.lineHeight = '14px';
    screenContainer.style.width = '100vw';
    screenContainer.style.height = '100vh';
    screenContainer.style.position = 'absolute';
    screenContainer.style.top = '0';
    screenContainer.style.left = '0';
    screenContainer.style.display = 'flex';
    screenContainer.style.justifyContent = 'center';
    screenContainer.style.alignItems = 'center';
    screenContainer.style.backgroundColor = 'black';
};
</script>

<!-- Full screen structure for the emulator and text container -->
<div id="screen_container">
    <div class="text-container" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; white-space: pre; font-family: monospace; font-size: 14px; line-height: 14px;"></div>
    <canvas style="display: none"></canvas>
</div>
